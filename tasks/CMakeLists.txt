# Generated from orogen/lib/orogen/templates/tasks/CMakeLists.txt

include(dsec2pocologTaskLib)

find_package(HDF5 COMPONENTS CXX REQUIRED)
find_package(Boost COMPONENTS system)
find_package(glob COMPONENTS system)

# Quick fix: we dont have pckgconfig for this libraries
set(BLOSC_LIBRARY
        ${CMAKE_INSTALL_PREFIX}/lib/plugin/libH5Zblosc.so
        ${CMAKE_INSTALL_PREFIX}/lib/libblosc_filter.so
        ${CMAKE_INSTALL_PREFIX}/lib/libblosc.so
        )

set(GLOB_LIBRARY
        ${CMAKE_INSTALL_PREFIX}/lib/libglob.so
    )

include_directories(
        ${HDF5_INCLUDE_DIR}
)

ADD_LIBRARY(${DSEC2POCOLOG_TASKLIB_NAME} SHARED
    ${DSEC2POCOLOG_TASKLIB_SOURCES})
add_dependencies(${DSEC2POCOLOG_TASKLIB_NAME}
    regen-typekit)


TARGET_LINK_LIBRARIES(${DSEC2POCOLOG_TASKLIB_NAME}
    ${OrocosRTT_LIBRARIES}
    ${QT_LIBRARIES}
    ${HDF5_CXX_LIBRARIES} 
    ${BLOSC_LIBRARY} 
    ${GLOB_LIBRARY} 
    ${DSEC2POCOLOG_TASKLIB_DEPENDENT_LIBRARIES})
SET_TARGET_PROPERTIES(${DSEC2POCOLOG_TASKLIB_NAME}
    PROPERTIES LINK_INTERFACE_LIBRARIES "${DSEC2POCOLOG_TASKLIB_INTERFACE_LIBRARIES}")
SET_TARGET_PROPERTIES(${DSEC2POCOLOG_TASKLIB_NAME}
    PROPERTIES INTERFACE_LINK_LIBRARIES "${DSEC2POCOLOG_TASKLIB_INTERFACE_LIBRARIES}")

INSTALL(TARGETS ${DSEC2POCOLOG_TASKLIB_NAME}
    RUNTIME DESTINATION bin
    LIBRARY DESTINATION lib/orocos)

INSTALL(FILES ${DSEC2POCOLOG_TASKLIB_HEADERS}
    DESTINATION include/orocos/dsec2pocolog)

